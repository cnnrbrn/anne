import{h as c}from"./nav-BI90erGG.js";import{h as d}from"./headers-B7o3POYX.js";function l(){const t=document.getElementById("loader");t&&(t.style.display="block")}function u(){const t=document.getElementById("loader");t&&(t.style.display="none")}async function g(){const t=new URLSearchParams(window.location.search).get("id");l();try{const a=await fetch(`${c}/${t}?_author=true&_comments=true`,{method:"GET",headers:d()});if(a.ok)return(await a.json()).data}catch{alert("failed to load single post")}finally{u()}}function f(t=100,a=1,o,e,r=!0){return new URLSearchParams({limit:t.toString(),page:a.toString(),_author:!0,_reactions:r.toString()}).toString()}async function P(t,a,o,e,r){l();try{const s=f(t,a,o,e,r),n=await fetch(`${c}?${s}`,{method:"GET",headers:d()});if(!n.ok)alert("Could not get social posts");else{const i=await n.json(),m=i.data,h=i.meta;return{posts:m,meta:h}}}catch{alert("Error loading social posts")}finally{u()}}export{g as a,P as r};
